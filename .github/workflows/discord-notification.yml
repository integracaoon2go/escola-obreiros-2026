name: Notificar Discord - Atualiza√ß√£o de Conte√∫do

on:
  push:
    branches:
      - principal
      - main
      - master

jobs:
  notify-discord:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout c√≥digo
        uses: actions/checkout@v3

      - name: Notificar #segunda-feira-mesa-de-exegese
        run: |
          curl -X POST \
            -H 'Content-type: application/json' \
            -d '{
              "username": "üì∫ Escola de Obreiros",
              "avatar_url": "https://i.ibb.co/pvs8vvzJ/logo-igreja-removebg-preview.png",
              "content": "<@&1452723451105116392>",
              "embeds": [{
                "title": "üéôÔ∏è NOVO EPIS√ìDIO - MESA DE EXEGESE",
                "description": "Um novo epis√≥dio foi publicado!",
                "color": 9658653,
                "thumbnail": {
                  "url": "https://i.ibb.co/pvs8vvzJ/logo-igreja-removebg-preview.png",
                  "height": 100,
                  "width": 100
                },
                "fields": [
                  {
                    "name": "üìÖ Data",
                    "value": "'$(date '+%d/%m/%Y √†s %H:%M')'",
                    "inline": true
                  },
                  {
                    "name": "üé¨ Status",
                    "value": "‚úÖ Dispon√≠vel no YouTube",
                    "inline": true
                  },
                  {
                    "name": "üîó Acesse Agora",
                    "value": "[Ver Epis√≥dio](https://seu-dominio.com/mesa-exegese.html)",
                    "inline": false
                  },
                  {
                    "name": "‚è±Ô∏è Dura√ß√£o",
                    "value": "Aproximadamente 15 minutos",
                    "inline": true
                  },
                  {
                    "name": "üë• Participantes",
                    "value": "Pr. Osvaldo Doreto e convidados",
                    "inline": true
                  }
                ],
                "footer": {
                  "text": "Escola de Obreiros ‚Ä¢ Vida Nova Church Piracicaba",
                  "icon_url": "https://i.ibb.co/pvs8vvzJ/logo-igreja-removebg-preview.png"
                },
                "timestamp": "'$(date -u +%Y-%m-%dT%H:%M:%SZ)'"
              }]
            }' \
            https://discord.com/api/webhooks/1466076506689245225/5xyc8WfipyL6mStJDurbBFNscNBy6Ff_8lMeoma-Ar06wyV9a-Jc_5QC6oranStwTu2L/github

      - name: Notificar #materiais-dos-modulos
        run: |
          curl -X POST \
            -H 'Content-type: application/json' \
            -d '{
              "username": "üìö Escola de Obreiros",
              "avatar_url": "https://i.ibb.co/pvs8vvzJ/logo-igreja-removebg-preview.png",
              "content": "<@&1452723451105116392>",
              "embeds": [{
                "title": "üìö NOVO CONTE√öDO - PLATAFORMA ATUALIZADA",
                "description": "A Escola de Obreiros foi atualizada com novos materiais!",
                "color": 2186160,
                "thumbnail": {
                  "url": "https://i.ibb.co/pvs8vvzJ/logo-igreja-removebg-preview.png",
                  "height": 100,
                  "width": 100
                },
                "fields": [
                  {
                    "name": "üìÖ Data da Atualiza√ß√£o",
                    "value": "'$(date '+%d/%m/%Y √†s %H:%M')'",
                    "inline": true
                  },
                  {
                    "name": "‚úÖ Status",
                    "value": "Online e Dispon√≠vel",
                    "inline": true
                  },
                  {
                    "name": "üîó Acesse a Plataforma",
                    "value": "[Ir para Escola de Obreiros](https://seu-dominio.com)",
                    "inline": false
                  },
                  {
                    "name": "üìñ O que h√° de novo?",
                    "value": "M√≥dulos ‚Ä¢ Materiais ‚Ä¢ Mesa de Exegese",
                    "inline": false
                  }
                ],
                "footer": {
                  "text": "Escola de Obreiros ‚Ä¢ Vida Nova Church Piracicaba",
                  "icon_url": "https://i.ibb.co/pvs8vvzJ/logo-igreja-removebg-preview.png"
                },
                "timestamp": "'$(date -u +%Y-%m-%dT%H:%M:%SZ)'"
              }]
            }' \
            https://discord.com/api/webhooks/SEU_WEBHOOK_ID/SEU_WEBHOOK_TOKEN/github
